<!doctype html><html class=no-js lang=en data-content_root=../><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=viewport content="width=device-width,initial-scale=1"><meta content="Attila Zsolt Somogyi" name=author><meta content="Asterisk Configuration Files provide a method to configure the settings and behavior of the Asterisk PBX system. These files are typically in a .conf format and include settings for SIP, PJSIP, and extensions, among others." name=description><meta content="config,configuration,asterisk,asterisk-dialplan,asterisk-pbx,asterisk-server" name=keywords><link rel=index title=Index href=../genindex.html><link rel=search title=Search href=../search.html><link rel=next title=queues.conf href=queues-conf.html><link rel=prev title=pjsip.conf href=pjsip-conf.html><title>extensions.conf - Asterisk configuration files latest documentation</title><link rel=stylesheet href="../_static/pygments.css?v=a746c00c"><link rel=stylesheet href="../_static/styles/furo.css?v=354aac6f"><link rel=stylesheet href="../_static/copybutton.css?v=76b2166b"><link rel=stylesheet href=../_static/sphinx-toolbox-code.css><link rel=stylesheet href=../_static/css/sphinx-toolbox.css><link rel=stylesheet href="../_static/tabs.css?v=a5c4661c"><link rel=stylesheet href=../_static/sphinx_toolbox_installation.css><link rel=stylesheet href="../_static/styles/furo-extensions.css?v=302659d7"><style>body{--color-code-background:#f8f8f8;--color-code-foreground:black}@media not print{body[data-theme=dark]{--color-code-background:#202020;--color-code-foreground:#d0d0d0}@media(prefers-color-scheme:dark){body:not([data-theme=light]){--color-code-background:#202020;--color-code-foreground:#d0d0d0}}}</style><script>document.body.dataset.theme=localStorage.getItem("theme")||"auto"</script><svg xmlns="http://www.w3.org/2000/svg" style="display:none"><symbol id="svg-toc" viewBox="0 0 24 24"><title>Contents</title><svg stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 1024 1024"><path d="M408 442h480c4.4.0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4.0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4.0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4.0-8 3.6-8 8v56zm504-486H120c-4.4.0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4.0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4.0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4.0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9 271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74.0 000 13.8z"/></svg></symbol><symbol id=svg-menu viewbox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></symbol><symbol id=svg-arrow-right viewbox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right"><polyline points="9 18 15 12 9 6"/></svg></symbol><symbol id=svg-sun viewbox="0 0 24 24"><title>Light mode</title><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></symbol><symbol id=svg-moon viewbox="0 0 24 24"><title>Dark mode</title><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 3c.132.0.263.0.393.0a7.5 7.5.0 007.92 12.446A9 9 0 1112 2.992z"/></svg></symbol><symbol id=svg-sun-with-moon viewbox="0 0 24 24"><title>Auto light/dark, in light mode</title><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-custom-derived-from-feather-sun-and-tabler-moon"><path style="opacity:50%" d="M5.411 14.504C5.471 14.504 5.532 14.504 5.591 14.504c-1.952 1.815-1.208 5.065 1.34 5.848C7.693 20.586 8.512 20.551 9.25 20.252 8.023 23.207 4.056 23.725 2.11 21.184c-1.944-2.542-.408-6.235 2.764-6.648C5.051 14.512 5.231 14.5 5.411 14.5V14.504z"/><line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/><line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/><line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/><line x1="19" y1="14.05" x2="20.414" y2="15.464"/><line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/><line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/><line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/><line x1="19" y1="5.05" x2="20.414" y2="3.636"/><circle cx="14.5" cy="9.55" r="3.6"/></svg></symbol><symbol id=svg-moon-with-sun viewbox="0 0 24 24"><title>Auto light/dark, in dark mode</title><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-custom-derived-from-feather-sun-and-tabler-moon"><path d="M8.282 7.007c.103.0.212.0.313000000000001.0-3.415 3.177-2.114 8.862 2.347 10.233C12.275 17.648 13.706 17.589 15 17.066c-2.149 5.17-9.09 6.077-12.495 1.63-3.402-4.447-.714-10.91 4.837-11.633C7.652 7.021 7.965 7 8.282 7V7.007z"/><line style="opacity:50%" x1="18" y1="3.705" x2="18" y2="2.5"/><line style="opacity:50%" x1="18" y1="11.295" x2="18" y2="12.5"/><line style="opacity:50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/><line style="opacity:50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/><line style="opacity:50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/><line style="opacity:50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/><line style="opacity:50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/><line style="opacity:50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/><circle style="opacity:50%" cx="18" cy="7.5" r="2.169"/></svg></symbol><symbol id=svg-pencil viewbox="0 0 24 24"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code"><path d="M4 20h4L18.5 9.5a2.828 2.828.0 10-4-4L4 16v4"/><path d="M13.5 6.5l4 4"/><path d="M20 21l2-2-2-2"/><path d="M17 17l-2 2 2 2"/></svg></symbol><symbol id=svg-eye viewbox="0 0 24 24"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 12a2 2 0 104 0 2 2 0 00-4 0"/><path d="M11.11 17.958C7.901 17.651 5.2 15.665 3 12c2.4-4 5.4-6 9-6s6.6 2 9 6c-.21.352-.427.688-.647 1.008"/><path d="M20 21l2-2-2-2"/><path d="M17 17l-2 2 2 2"/></svg></symbol></svg>
<input type=checkbox class=sidebar-toggle name=__navigation id=__navigation>
<input type=checkbox class=sidebar-toggle name=__toc id=__toc>
<label class="overlay sidebar-overlay" for=__navigation><div class=visually-hidden>Hide navigation sidebar</div></label><label class="overlay toc-overlay" for=__toc><div class=visually-hidden>Hide table of contents sidebar</div></label><div class=page><header class=mobile-header><div class=header-left><label class=nav-overlay-icon for=__navigation><div class=visually-hidden>Toggle site navigation sidebar</div><i class=icon><svg><use href="#svg-menu"/></svg></i></label></div><div class=header-center><a href=../index.html><div class=brand>Asterisk configuration files latest documentation</div></a></div><div class=header-right><div class="theme-toggle-container theme-toggle-header"><button class=theme-toggle><div class=visually-hidden>Toggle Light / Dark / Auto color theme</div><svg class="theme-icon-when-auto"><use href="#svg-sun-half"/></svg><svg class="theme-icon-when-dark"><use href="#svg-moon"/></svg><svg class="theme-icon-when-light"><use href="#svg-sun"/></svg></button></div><label class="toc-overlay-icon toc-header-icon" for=__toc><div class=visually-hidden>Toggle table of contents sidebar</div><i class=icon><svg><use href="#svg-toc"/></svg></i></label></div></header><aside class=sidebar-drawer><div class=sidebar-container><div class=sidebar-sticky><a class=sidebar-brand href=../index.html><span class=sidebar-brand-text>Asterisk configuration files latest documentation</span></a><form class=sidebar-search-container action=../search.html role=search><input class=sidebar-search placeholder=Search name=q aria-label=Search>
<input type=hidden name=check_keywords value=yes>
<input type=hidden name=area value=default></form><div id=searchbox></div><div class=sidebar-scroll><div class=sidebar-tree><p class=caption role=heading><span class=caption-text>Project Homepage</span><ul><li class=toctree-l1><a class="reference external" href=https://github.com/attilasomogyi/asterisk-configuration-files>GitHub</a></ul><ul><li class=toctree-l1><a class="reference internal" href=readme.html>Asterisk configuration files</a></ul><ul><li class=toctree-l1><a class="reference internal" href=pjsip-conf.html>pjsip.conf</a></ul><ul class=current><li class="toctree-l1 current current-page"><a class="current reference internal" href=#>extensions.conf</a></ul><ul><li class=toctree-l1><a class="reference internal" href=queues-conf.html>queues.conf</a></ul><ul><li class=toctree-l1><a class="reference internal" href=code-of-conduct.html>Contributor covenant code of conduct</a></ul><ul><li class=toctree-l1><a class="reference internal" href=contributing.html>Contributing</a></ul><ul><li class=toctree-l1><a class="reference internal" href=support.html>Support</a></ul><ul><li class=toctree-l1><a class="reference internal" href=security.html>Security policy</a></ul></div></div></div></div></aside><div class=main><div class=content><div class=article-container><a href=# class="back-to-top muted-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg><span>Back to top</span></a><div class=content-icon-container><div class="theme-toggle-container theme-toggle-content"><button class=theme-toggle><div class=visually-hidden>Toggle Light / Dark / Auto color theme</div><svg class="theme-icon-when-auto"><use href="#svg-sun-half"/></svg><svg class="theme-icon-when-dark"><use href="#svg-moon"/></svg><svg class="theme-icon-when-light"><use href="#svg-sun"/></svg></button></div><label class="toc-overlay-icon toc-content-icon" for=__toc><div class=visually-hidden>Toggle table of contents sidebar</div><i class=icon><svg><use href="#svg-toc"/></svg></i></label></div><article role=main><section id=extensions-conf><h1>extensions.conf<a class=headerlink href=#extensions-conf title="Link to this heading">¶</a></h1><p>The <strong>extensions.conf</strong> file in Asterisk is a configuration file that controls how incoming calls are handled and processed by the PBX. It contains a series of <em>contexts</em>, which define sets of rules for handling calls, and <em>extensions</em>, which are individual steps within those contexts that perform specific actions, such as playing a message, transferring the call to another extension, or dialing out to a PSTN number. The “extensions.conf” file is used to build call flows and determine what happens when a call is received by the PBX.<section id=general><h2>[general]<a class=headerlink href=#general title="Link to this heading">¶</a></h2><p>The <strong>[general]</strong> section in the <em>extensions.conf</em> file is used to set global options that apply to all extensions in the file. The options specified in the <strong>[general]</strong> section can be overridden by individual extension sections, but if not overridden, will be used as the default for all extensions. In two sentences, <strong>[general]</strong> in <em>extensions.conf</em> sets global options for all extensions in the file, acting as the default for each unless specified otherwise in an individual extension section.<div class="literal-block-wrapper docutils container" id=id1><div class=code-block-caption><span class=caption-text>extensions.conf</span><a class=headerlink href=#id1 title="Link to this code">¶</a></div><div class="highlight-ini notranslate"><div class=highlight><pre><span></span><span class=linenos>1</span><span class=k>[general]</span>
<span class=linenos>2</span><span class=na>static</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>yes</span>
<span class=linenos>3</span><span class=na>wirteprotect</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>no</span>
<span class=linenos>4</span><span class=na>autofallthrough</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>yes</span>
</pre></div></div></div><section id=static-yes><h3>static=yes<a class=headerlink href=#static-yes title="Link to this heading">¶</a></h3><p>The <strong>static=yes</strong> option in the <em>extensions.conf</em> file determines if an extension is static or dynamic. When <strong>static=yes</strong> is set for an extension, it means that the extension cannot be altered or deleted via the Asterisk Management Interface (AMI) or the Command Line Interface (CLI). A static extension is useful in scenarios where you want to ensure that a specific extension is always available and cannot be accidentally modified. In two sentences, <strong>static=yes</strong> in <em>extensions.conf</em> makes an extension immutable, ensuring it remains unaltered through AMI or CLI changes.</section><section id=wirteprotect-no><h3>wirteprotect=no<a class=headerlink href=#wirteprotect-no title="Link to this heading">¶</a></h3><p>The <strong>writeprotect=no</strong> option in the <em>extensions.conf</em> file determines if an extension can be modified or not. When <strong>writeprotect=no</strong> is set for an extension, it means that the extension can be altered, added or deleted via the Asterisk Management Interface (AMI) or the Command Line Interface (CLI). In two sentences, <strong>writeprotect=no</strong> in extensions.conf allows an extension to be changed, added, or deleted through AMI or CLI, while <em>writeprotect=yes</em> will protect the extension from being modified.</section><section id=autofallthrough-yes><h3>autofallthrough=yes<a class=headerlink href=#autofallthrough-yes title="Link to this heading">¶</a></h3><p><strong>autofallthrough=yes</strong> in <em>extensions.conf</em> determines the behavior of the PBX system when a matching extension is not found for an incoming call. If <strong>autofallthrough</strong> is set to <strong>yes</strong>, the system will automatically fall through to the next priority in the current context in search of a matching extension. In two sentences, <strong>autofallthrough=yes</strong> in <em>extensions.conf</em> specifies that the PBX system will automatically continue to the next priority if no matching extension is found, allowing it to search for a match in the current context.</section></section><section id=globals><h2>[globals]<a class=headerlink href=#globals title="Link to this heading">¶</a></h2><p>The <strong>[globals]</strong> section in the <em>extensions.conf</em> file is used to set global variables that can be referenced and used by multiple extensions within the file. These global variables can be accessed and used to dynamically set values or parameters in extensions and dialplan logic. In two sentences, <strong>[globals]</strong> in <em>extensions.conf</em> sets global variables that can be used by multiple extensions within the file to dynamically set values or parameters in dialplan logic.<div class="literal-block-wrapper docutils container" id=id2><div class=code-block-caption><span class=caption-text>extensions.conf</span><a class=headerlink href=#id2 title="Link to this code">¶</a></div><div class="highlight-ini notranslate"><div class=highlight><pre><span></span><span class=linenos>6</span><span class=k>[globals]</span>
</pre></div></div></div></section><section id=from-external><h2>[from-external]<a class=headerlink href=#from-external title="Link to this heading">¶</a></h2><p><strong>[from-external]</strong> in <em>extensions.conf</em> is a context that specifies the dialplan logic for incoming calls from the outside or external network. This context typically contains the extensions and dialplan logic that handle incoming calls and determine how they are routed or processed within the PBX system. In two sentences, <strong>[from-external]</strong> in <em>extensions.conf</em> specifies the dialplan logic for incoming calls from the outside network and typically includes the extensions that handle and route these calls within the PBX system.<div class="literal-block-wrapper docutils container" id=id3><div class=code-block-caption><span class=caption-text>extensions.conf</span><a class=headerlink href=#id3 title="Link to this code">¶</a></div><div class="highlight-ini notranslate"><div class=highlight><pre><span></span><span class=linenos> 8</span><span class=k>[from-external]</span>
<span class=linenos> 9</span><span class=na>exten</span><span class=w> </span><span class=o>=</span><span class=s>&gt; 201,1,NoOP(${CALLERID})</span>
<span class=linenos>10</span><span class=na>same</span><span class=w>  </span><span class=o>=</span><span class=s>&gt;     n,Ringing</span>
<span class=linenos>11</span><span class=na>same</span><span class=w>  </span><span class=o>=</span><span class=s>&gt;     n,Queue(clients)</span>
<span class=linenos>12</span><span class=na>same</span><span class=w>  </span><span class=o>=</span><span class=s>&gt;     n,Answer</span>
<span class=linenos>13</span><span class=na>same</span><span class=w>  </span><span class=o>=</span><span class=s>&gt;     n,Hangup</span>
<span class=linenos>14</span>
<span class=linenos>15</span><span class=na>exten</span><span class=w> </span><span class=o>=</span><span class=s>&gt; 202,1,NoOP(${CALLERID})</span>
<span class=linenos>16</span><span class=na>same</span><span class=w>  </span><span class=o>=</span><span class=s>&gt;     n,Ringing</span>
<span class=linenos>17</span><span class=na>same</span><span class=w>  </span><span class=o>=</span><span class=s>&gt;     n,Queue(clients)</span>
<span class=linenos>18</span><span class=na>same</span><span class=w>  </span><span class=o>=</span><span class=s>&gt;     n,Answer</span>
<span class=linenos>19</span><span class=na>same</span><span class=w>  </span><span class=o>=</span><span class=s>&gt;     n,Hangup</span>
</pre></div></div></div><section id=exten-201-1-noop-callerid><h3>exten => 201,1,NoOP(${CALLERID})<a class=headerlink href=#exten-201-1-noop-callerid title="Link to this heading">¶</a></h3><p>In <em>extensions.conf</em>, the line <strong>exten => 201,1,NoOP(${CALLERID})</strong> specifies an extension with a priority of 1 that runs the NoOP dialplan application with the argument <strong>${CALLERID}</strong>. This application will simply print the value of the <strong>CALLERID</strong> variable to the console for debugging purposes.</section><section id=same-n-ringing><h3>same => n,Ringing<a class=headerlink href=#same-n-ringing title="Link to this heading">¶</a></h3><p><strong>same => n,Ringing</strong> in <em>extensions.conf</em> means that if the current extension matches, it will execute the next priority (n) with the “Ringing” application, which generates ringing tone for the caller.</section><section id=same-n-queue-clients><h3>same => n,Queue(clients)<a class=headerlink href=#same-n-queue-clients title="Link to this heading">¶</a></h3><p>The line <strong>same => n,Queue(clients)</strong> in extensions.conf means that calls to the specified extension will be directed to the specified queue, in this case <strong>clients</strong>. The <strong>same => n</strong> part means that the next priority of the extension will be executed and in this case, it is adding the call to the queue <strong>clients</strong>.</section><section id=same-n-answer><h3>same => n,Answer<a class=headerlink href=#same-n-answer title="Link to this heading">¶</a></h3><p><strong>same => n,Answer</strong> in <em>extensions.conf</em> is an Asterisk dialplan application which answers an incoming call and makes it ready to be processed by further dialplan instructions. It is used to start processing an incoming call and put the call into an active state.</section><section id=same-n-hangup><h3>same => n,Hangup<a class=headerlink href=#same-n-hangup title="Link to this heading">¶</a></h3><p>In <em>extensions.conf</em>, <strong>same => n,Hangup</strong> is a dialplan application that immediately ends the current call with a hangup message. The “n” represents the current priority number in the dialplan and can be any positive integer. This command terminates the call and releases any used resources.</section></section><section id=from-internal><h2>[from-internal]<a class=headerlink href=#from-internal title="Link to this heading">¶</a></h2><p>In Asterisk PBX, the section <strong>[from-internal]</strong> in the <em>extensions.conf</em> file refers to a context for incoming calls from the internal network or PBX extensions. The extensions and rules defined in this context are applied to calls that originate from within the PBX system. This allows for customization of the PBX behavior for internal calls and provides a way to handle these calls differently from external calls.<div class="literal-block-wrapper docutils container" id=id4><div class=code-block-caption><span class=caption-text>extensions.conf</span><a class=headerlink href=#id4 title="Link to this code">¶</a></div><div class="highlight-ini notranslate"><div class=highlight><pre><span></span><span class=linenos>21</span><span class=k>[from-internal]</span>
<span class=linenos>22</span><span class=na>exten</span><span class=w> </span><span class=o>=</span><span class=s>&gt; _0690XXXXXX,1,Hangup</span>
<span class=linenos>23</span>
<span class=linenos>24</span><span class=na>exten</span><span class=w> </span><span class=o>=</span><span class=s>&gt; _0681XXXXXX,1,Hangup</span>
<span class=linenos>25</span>
<span class=linenos>26</span><span class=na>exten</span><span class=w> </span><span class=o>=</span><span class=s>&gt; _06[237]0XXXXXXX,1,Ringing</span>
<span class=linenos>27</span><span class=na>same</span><span class=w>  </span><span class=o>=</span><span class=s>&gt;                  2,Dial(SIP/${EXTEN}@gsm,60)</span>
<span class=linenos>28</span><span class=na>same</span><span class=w>  </span><span class=o>=</span><span class=s>&gt;                  3,GotoIf($[${DIALSTATUS}=CHANUNAVAIL]?:5)</span>
<span class=linenos>29</span><span class=na>same</span><span class=w>  </span><span class=o>=</span><span class=s>&gt;                  4,Hangup</span>
<span class=linenos>30</span><span class=na>same</span><span class=w>  </span><span class=o>=</span><span class=s>&gt;                  5,Dial(SIP/${EXTEN}@isdn-1,60)</span>
<span class=linenos>31</span><span class=na>same</span><span class=w>  </span><span class=o>=</span><span class=s>&gt;                  6,GotoIf($[${DIALSTATUS}=CHANUNAVAIL]?:8)</span>
<span class=linenos>32</span><span class=na>same</span><span class=w>  </span><span class=o>=</span><span class=s>&gt;                  7,Hangup</span>
<span class=linenos>33</span><span class=na>same</span><span class=w>  </span><span class=o>=</span><span class=s>&gt;                  8,Dial(SIP/${EXTEN}@isdn-2,60)</span>
<span class=linenos>34</span><span class=na>same</span><span class=w>  </span><span class=o>=</span><span class=s>&gt;                  9,Hangup</span>
<span class=linenos>35</span>
<span class=linenos>36</span><span class=na>exten</span><span class=w> </span><span class=o>=</span><span class=s>&gt; _0036[237]0XXXXXXX,1,Ringing</span>
<span class=linenos>37</span><span class=na>same</span><span class=w>  </span><span class=o>=</span><span class=s>&gt;                    2,Dial(SIP/${EXTEN}@gsm,60)</span>
<span class=linenos>38</span><span class=na>same</span><span class=w>  </span><span class=o>=</span><span class=s>&gt;                    3,GotoIf($[${DIALSTATUS}=CHANUNAVAIL]?:5)</span>
<span class=linenos>39</span><span class=na>same</span><span class=w>  </span><span class=o>=</span><span class=s>&gt;                    4,Hangup</span>
<span class=linenos>40</span><span class=na>same</span><span class=w>  </span><span class=o>=</span><span class=s>&gt;                    5,Dial(SIP/${EXTEN}@isdn-1,60)</span>
<span class=linenos>41</span><span class=na>same</span><span class=w>  </span><span class=o>=</span><span class=s>&gt;                    6,GotoIf($[${DIALSTATUS}=CHANUNAVAIL]?:8)</span>
<span class=linenos>42</span><span class=na>same</span><span class=w>  </span><span class=o>=</span><span class=s>&gt;                    7,Hangup</span>
<span class=linenos>43</span><span class=na>same</span><span class=w>  </span><span class=o>=</span><span class=s>&gt;                    8,Dial(SIP/${EXTEN}@isdn-2,60)</span>
<span class=linenos>44</span><span class=na>same</span><span class=w>  </span><span class=o>=</span><span class=s>&gt;                    9,Hangup</span>
<span class=linenos>45</span>
<span class=linenos>46</span><span class=na>exten</span><span class=w> </span><span class=o>=</span><span class=s>&gt; _06XXXXXXXX,1,Ringing</span>
<span class=linenos>47</span><span class=na>same</span><span class=w>  </span><span class=o>=</span><span class=s>&gt;             2,Dial(SIP/${EXTEN}@isdn-1,60)</span>
<span class=linenos>48</span><span class=na>same</span><span class=w>  </span><span class=o>=</span><span class=s>&gt;             3,GotoIf($[${DIALSTATUS}=CHANUNAVAIL]?:5)</span>
<span class=linenos>49</span><span class=na>same</span><span class=w>  </span><span class=o>=</span><span class=s>&gt;             4,Hangup</span>
<span class=linenos>50</span><span class=na>same</span><span class=w>  </span><span class=o>=</span><span class=s>&gt;             5,Dial(SIP/${EXTEN}@gsm,60)</span>
<span class=linenos>51</span><span class=na>same</span><span class=w>  </span><span class=o>=</span><span class=s>&gt;             6,Hangup</span>
</pre></div></div></div><section id=exten-0690xxxxxx-1-hangup-0681xxxxxx-1-hangup><h3>exten => _0690XXXXXX,1,Hangup/_0681XXXXXX,1,Hangup<a class=headerlink href=#exten-0690xxxxxx-1-hangup-0681xxxxxx-1-hangup title="Link to this heading">¶</a></h3><p><strong>exten => _0690XXXXXX,1,Hangup/_0681XXXXXX,1,Hangup</strong> in the <em>extensions.conf</em> file is a dialplan pattern. It matches outgoing calls that start with the prefix <strong>0690XXXXXX</strong> and immediately hangs up the call by executing the Hangup dialplan application on the first priority (1).</section><section id=exten-06-237-0xxxxxxx-1-ringing><h3>exten => _06[237]0XXXXXXX,1,Ringing<a class=headerlink href=#exten-06-237-0xxxxxxx-1-ringing title="Link to this heading">¶</a></h3><p>The line <strong>exten => _06[237]0XXXXXXX/_0036[237]0XXXXXXX,1,Ringing</strong> in the extensions.conf file is a dial plan definition. It specifies that when a call is made to a phone number starting with 06 followed by either 2, 3 or 7 and then 7 digits, the Asterisk PBX should play the “Ringing” sound to the caller, indicating that the call is ringing on the recipient’s side.</section><section id=same-2-dial-sip-exten-gsm-60><h3>same => 2,Dial(SIP/${EXTEN}@gsm,60)<a class=headerlink href=#same-2-dial-sip-exten-gsm-60 title="Link to this heading">¶</a></h3><p><strong>same => 2,Dial(SIP/${EXTEN}@gsm,60)</strong> in extensions.conf means that it will place a call to the SIP extension defined in the <strong>${EXTEN}</strong> variable, with a maximum ring time of 60 seconds, using the SIP dialing syntax <strong>SIP/${EXTEN}@gsm</strong>. The <strong>same =></strong> statement means that the dialing process will continue in the same priority level, with the next step being number 2.</section><section id=same-3-gotoif-dialstatus-chanunavail-5><h3>same => 3,GotoIf($[${DIALSTATUS}=CHANUNAVAIL]?:5)<a class=headerlink href=#same-3-gotoif-dialstatus-chanunavail-5 title="Link to this heading">¶</a></h3><p>The line <strong>same => 3,GotoIf($[${DIALSTATUS}=CHANUNAVAIL]?:5)</strong> in the extensions.conf file is a conditional branch statement in Asterisk dialplan. It checks if the dial status of the previous step is <em>CHANUNAVAIL</em> and if so, jumps to priority step 5. The <strong>same =></strong> keyword means that this priority step will be executed in the same context as the previous step.</section><section id=same-4-7-6-hangup><h3>same => 4/7/6, Hangup<a class=headerlink href=#same-4-7-6-hangup title="Link to this heading">¶</a></h3><p>The line <strong>same => 4/7/6,Hangup</strong> in the Asterisk dial plan means that if the previous step in the dial plan execution is completed, it will hang up the call by executing the <strong>Hangup</strong> application, which ends the call. The “same” keyword means that the priority of this step is the same as the previous step in the dial plan.</section><section id=same-5-dial-sip-exten-gsm-60><h3>same => 5, Dial(SIP/${EXTEN}@gsm,60)<a class=headerlink href=#same-5-dial-sip-exten-gsm-60 title="Link to this heading">¶</a></h3><p>The line <strong>same => 5,Dial(SIP/${EXTEN}@isdn-1,60)</strong> in extensions.conf is a Dial application, which tries to dial a SIP channel using the given extension number, <strong>@isdn-1</strong>, as the address and 60 seconds as the maximum duration of the call.</section><section id=same-6-gotoif-dialstatus-chanunavail-8><h3>same => 6,GotoIf($[${DIALSTATUS}=CHANUNAVAIL]?:8)<a class=headerlink href=#same-6-gotoif-dialstatus-chanunavail-8 title="Link to this heading">¶</a></h3><p>The line <strong>same => 6,GotoIf($[${DIALSTATUS}=CHANUNAVAIL]?:8)?</strong> in the extensions.conf file is a conditional branch in the dialplan. It tests the result of the previous Dial command, which dials the specified destination. If the result of the Dial command is <strong>CHANUNAVAIL</strong> (i.e., the destination is unavailable), the dialplan execution jumps to the next priority level marked as 8.</section><section id=same-8-dial-sip-exten-isdn-2-60><h3>same => 8,Dial(SIP/${EXTEN}@isdn-2,60)<a class=headerlink href=#same-8-dial-sip-exten-isdn-2-60 title="Link to this heading">¶</a></h3><p><strong>same => 8,Dial(SIP/${EXTEN}@isdn-2,60)</strong> in extensions.conf refers to a dial plan statement in Asterisk. It specifies that if the previous priority is completed and execution is at priority 8, a call should be made using SIP protocol to the destination number specified by the <strong>${EXTEN}</strong> variable at endpoint <strong>isdn-2</strong>, with a maximum ring time of 60 seconds.</section><section id=exten-06xxxxxxxx-1-ringing><h3>exten => _06XXXXXXXX,1,Ringing<a class=headerlink href=#exten-06xxxxxxxx-1-ringing title="Link to this heading">¶</a></h3><p>In extensions.conf, the line <strong>exten => _06XXXXXXXX,1,Ringing</strong> defines a dial plan rule. The rule specifies that if an incoming call matches the pattern <strong>_06XXXXXXXX</strong> (i.e. the caller ID starts with <strong>06</strong>), the first action to be taken is to initiate a <strong>Ringing</strong> signal. This signals the intended recipient of the call that there is an incoming call waiting to be answered.</section></section></section></article></div><footer><div class=related-pages><a class=next-page href=queues-conf.html><div class=page-info><div class=context><span>Next</span></div><div class=title>queues.conf</div></div><svg class="furo-related-icon"><use href="#svg-arrow-right"/></svg></a><a class=prev-page href=pjsip-conf.html><svg class="furo-related-icon"><use href="#svg-arrow-right"/></svg><div class=page-info><div class=context><span>Previous</span></div><div class=title>pjsip.conf</div></div></a></div><div class=bottom-of-page><div class=left-details><div class=copyright>Copyright &#169; 2023, Attila Zsolt Somogyi</div></div><div class=right-details></div></div></footer></div><aside class=toc-drawer><div class="toc-sticky toc-scroll"><div class=toc-title-container><span class=toc-title>On this page</span></div><div class=toc-tree-container><div class=toc-tree><ul><li><a class="reference internal" href=#>extensions.conf</a><ul><li><a class="reference internal" href=#general>[general]</a><ul><li><a class="reference internal" href=#static-yes>static=yes</a><li><a class="reference internal" href=#wirteprotect-no>wirteprotect=no</a><li><a class="reference internal" href=#autofallthrough-yes>autofallthrough=yes</a></ul><li><a class="reference internal" href=#globals>[globals]</a><li><a class="reference internal" href=#from-external>[from-external]</a><ul><li><a class="reference internal" href=#exten-201-1-noop-callerid>exten => 201,1,NoOP(${CALLERID})</a><li><a class="reference internal" href=#same-n-ringing>same => n,Ringing</a><li><a class="reference internal" href=#same-n-queue-clients>same => n,Queue(clients)</a><li><a class="reference internal" href=#same-n-answer>same => n,Answer</a><li><a class="reference internal" href=#same-n-hangup>same => n,Hangup</a></ul><li><a class="reference internal" href=#from-internal>[from-internal]</a><ul><li><a class="reference internal" href=#exten-0690xxxxxx-1-hangup-0681xxxxxx-1-hangup>exten => _0690XXXXXX,1,Hangup/_0681XXXXXX,1,Hangup</a><li><a class="reference internal" href=#exten-06-237-0xxxxxxx-1-ringing>exten => _06[237]0XXXXXXX,1,Ringing</a><li><a class="reference internal" href=#same-2-dial-sip-exten-gsm-60>same => 2,Dial(SIP/${EXTEN}@gsm,60)</a><li><a class="reference internal" href=#same-3-gotoif-dialstatus-chanunavail-5>same => 3,GotoIf($[${DIALSTATUS}=CHANUNAVAIL]?:5)</a><li><a class="reference internal" href=#same-4-7-6-hangup>same => 4/7/6, Hangup</a><li><a class="reference internal" href=#same-5-dial-sip-exten-gsm-60>same => 5, Dial(SIP/${EXTEN}@gsm,60)</a><li><a class="reference internal" href=#same-6-gotoif-dialstatus-chanunavail-8>same => 6,GotoIf($[${DIALSTATUS}=CHANUNAVAIL]?:8)</a><li><a class="reference internal" href=#same-8-dial-sip-exten-isdn-2-60>same => 8,Dial(SIP/${EXTEN}@isdn-2,60)</a><li><a class="reference internal" href=#exten-06xxxxxxxx-1-ringing>exten => _06XXXXXXXX,1,Ringing</a></ul></ul></ul></div></div></div></aside></div></div><script src="../_static/documentation_options.js?v=91d07486"></script>
<script src="../_static/doctools.js?v=9bcbadda"></script>
<script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
<script src="../_static/scripts/furo.js?v=5fa4622c"></script>
<script src="../_static/clipboard.min.js?v=a7894cd8"></script>
<script src="../_static/copybutton.js?v=f281be69"></script>
<script src=../_static/sphinx_toolbox_installation.js></script>