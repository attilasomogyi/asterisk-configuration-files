"use strict";var Scorer,splitQuery;typeof Scorer=="undefined"&&(Scorer={objNameMatch:11,objPartialMatch:6,objPrio:{0:15,1:5,2:-5},objPrioDefault:0,title:15,partialTitle:7,term:5,partialTerm:2});class SearchResultKind{static get index(){return"index"}static get object(){return"object"}static get text(){return"text"}static get title(){return"title"}}const _removeChildren=a=>{while(a&&a.lastChild)a.removeChild(a.lastChild)},_escapeRegExp=a=>a.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),_displayItem=(r,q,i)=>{const p=DOCUMENTATION_OPTIONS.BUILDER,n=DOCUMENTATION_OPTIONS.FILE_SUFFIX,l=DOCUMENTATION_OPTIONS.LINK_SUFFIX,k=DOCUMENTATION_OPTIONS.SHOW_SEARCH_SUMMARY,h=document.documentElement.dataset.content_root,[d,j,g,f,m,s,o]=r;let a=document.createElement("li");a.classList.add(`kind-${o}`);let b,e;if(p==="dirhtml"){let a=d+"/";a.match(/\/index\/$/)?a=a.substring(0,a.length-6):a==="index/"&&(a=""),b=h+a,e=b}else b=h+d+n,e=d+l;let c=a.appendChild(document.createElement("a"));c.href=e+g,c.dataset.score=m,c.innerHTML=j,f?(a.appendChild(document.createElement("span")).innerHTML=" ("+f+")",SPHINX_HIGHLIGHT_ENABLED&&i.forEach(b=>_highlightText(a,b,"highlighted"))):k&&fetch(b).then(a=>a.text()).then(b=>{b&&a.appendChild(Search.makeSearchSummary(b,q,g)),SPHINX_HIGHLIGHT_ENABLED&&i.forEach(b=>_highlightText(a,b,"highlighted"))}),Search.output.appendChild(a)},_finishSearch=a=>{Search.stopPulse(),Search.title.innerText=_("Search Results"),a?Search.status.innerText=Documentation.ngettext("Search finished, found one page matching the search query.","Search finished, found ${resultCount} pages matching the search query.",a).replace('${resultCount}',a):Search.status.innerText=Documentation.gettext("Your search did not match any documents. Please make sure that all words are spelled correctly and that you've selected enough categories.")},_displayNextItem=(a,b,c,d)=>{a.length?(_displayItem(a.pop(),c,d),setTimeout(()=>_displayNextItem(a,b,c,d),5)):_finishSearch(b)},_orderResultsByScoreThenName=(a,b)=>{const c=a[4],d=b[4];if(c===d){const c=a[1].toLowerCase(),d=b[1].toLowerCase();return c===d?0:c>d?-1:1}return c>d?1:-1};typeof splitQuery=="undefined"&&(splitQuery=a=>a.split(/[^\p{Letter}\p{Number}_\p{Emoji_Presentation}]+/gu).filter(a=>a));const Search={_index:null,_queued_query:null,_pulse_status:-1,htmlToText:(d,a)=>{const b=(new DOMParser).parseFromString(d,'text/html');for(const a of[".headerlink","script","style"])b.querySelectorAll(a).forEach(a=>{a.remove()});if(a){const c=b.querySelector(`[role="main"] ${a}`);if(c)return c.textContent;console.warn(`Anchored content block not found. Sphinx search tries to obtain it via DOM query '[role=main] ${a}'. Check your theme or template.`)}const c=b.querySelector('[role="main"]');return c?c.textContent:(console.warn("Content block not found. Sphinx search tries to obtain it via DOM query '[role=main]'. Check your theme or template."),"")},init:()=>{const a=new URLSearchParams(window.location.search).get("q");document.querySelectorAll('input[name="q"]').forEach(b=>b.value=a),a&&Search.performSearch(a)},loadIndex:a=>document.body.appendChild(document.createElement("script")).src=a,setIndex:a=>{if(Search._index=a,Search._queued_query!==null){const a=Search._queued_query;Search._queued_query=null,Search.query(a)}},hasIndex:()=>Search._index!==null,deferQuery:a=>Search._queued_query=a,stopPulse:()=>Search._pulse_status=-1,startPulse:()=>{if(Search._pulse_status>=0)return;const a=()=>{Search._pulse_status=(Search._pulse_status+1)%4,Search.dots.innerText=".".repeat(Search._pulse_status),Search._pulse_status>=0&&window.setTimeout(a,500)};a()},performSearch:d=>{const e=document.createElement("h2");e.textContent=_("Searching");const a=document.createElement("p");a.classList.add("search-summary"),a.innerText="";const b=document.createElement("ul");b.setAttribute("role","list"),b.classList.add("search");const c=document.getElementById("search-results");Search.title=c.appendChild(e),Search.dots=Search.title.appendChild(document.createElement("span")),Search.status=c.appendChild(a),Search.output=c.appendChild(b);const f=document.getElementById("search-progress");f&&(f.innerText=_("Preparing search...")),Search.startPulse(),Search.hasIndex()?Search.query(d):Search.deferQuery(d)},_parseQuery:a=>{const e=new Stemmer,c=new Set,d=new Set,b=new Set,f=new Set(splitQuery(a.toLowerCase().trim()));return splitQuery(a.trim()).forEach(g=>{const a=g.toLowerCase();if(stopwords.indexOf(a)!==-1||g.match(/^\d+$/))return;let f=e.stemWord(a);f[0]==="-"?d.add(f.substr(1)):(c.add(f),b.add(a))}),SPHINX_HIGHLIGHT_ENABLED&&localStorage.setItem("sphinx_highlight_terms",[...b].join(" ")),[a,c,d,b,f]},_performSearch:(n,m,l,o,f)=>{const g=Search._index.filenames,h=Search._index.docnames,c=Search._index.titles,k=Search._index.alltitles,j=Search._index.indexentries,a=[],d=[];_removeChildren(document.getElementById("search-progress"));const b=n.toLowerCase().trim();for(const[d,e]of Object.entries(k))if(d.toLowerCase().trim().includes(b)&&b.length>=d.length/2)for(const[f,i]of e){const j=Math.round(Scorer.title*b.length/d.length),k=c[f]===d?1:0;a.push([h[f],c[f]!==d?`${c[f]} > ${d}`:d,i!==null?"#"+i:"",null,j+k,g[f],SearchResultKind.title])}for(const[e,f]of Object.entries(j))if(e.includes(b)&&b.length>=e.length/2)for(const[i,j,l]of f){const m=Math.round(100*b.length/e.length),k=[h[i],c[i],j?"#"+j:"",null,m,g[i],SearchResultKind.index];l?a.push(k):d.push(k)}f.forEach(b=>a.push(...Search.performObjectSearch(b,f))),a.push(...Search.performTermsSearch(m,l)),Scorer.score&&(a.forEach(a=>a[4]=Scorer.score(a)),d.forEach(a=>a[4]=Scorer.score(a))),a.sort(_orderResultsByScoreThenName),d.sort(_orderResultsByScoreThenName);let e=[...d,...a],i=new Set;return e=e.reverse().reduce((b,a)=>{let c=a.slice(0,4).concat([a[5]]).map(a=>String(a)).join(',');return i.has(c)||(b.push(a),i.add(c)),b},[]),e.reverse()},query:g=>{const[d,b,e,c,f]=Search._parseQuery(g),a=Search._performSearch(d,b,e,c,f);_displayNextItem(a,a.length,b,c)},performObjectSearch:(a,h)=>{const e=Search._index.filenames,f=Search._index.docnames,c=Search._index.objects,d=Search._index.objnames,g=Search._index.titles,b=[],i=(l,c)=>{const o=c[4],k=(l?l+".":"")+o,n=k.toLowerCase();if(n.indexOf(a)<0)return;let j=0;const p=n.split(".");n===a||p.slice(-1)[0]===a?j+=Scorer.objNameMatch:p.slice(-1)[0].indexOf(a)>-1&&(j+=Scorer.objPartialMatch);const q=d[c[1]][2],r=g[c[0]],m=new Set(h);if(m.delete(a),m.size>0){const a=`${l} ${o} ${q} ${r}`.toLowerCase();if([...m].some(b=>a.indexOf(b)<0))return}let i=c[3];i===""?i=k:i==="-"&&(i=d[c[1]][1]+"-"+k);const s=q+_(", in ")+r;Scorer.objPrio.hasOwnProperty(c[2])?j+=Scorer.objPrio[c[2]]:j+=Scorer.objPrioDefault,b.push([f[c[0]],k,"#"+i,s,j,e[c[0]],SearchResultKind.object])};return Object.keys(c).forEach(a=>c[a].forEach(b=>i(a,b))),b},performTermsSearch:(e,j)=>{const a=Search._index.terms,b=Search._index.titleterms,g=Search._index.filenames,h=Search._index.docnames,i=Search._index.titles,d=new Map,c=new Map;e.forEach(e=>{const g=[],f=[{files:a[e],score:Scorer.term},{files:b[e],score:Scorer.title}];if(e.length>2){const c=_escapeRegExp(e);a.hasOwnProperty(e)||Object.keys(a).forEach(b=>{b.match(c)&&f.push({files:a[b],score:Scorer.partialTerm})}),b.hasOwnProperty(e)||Object.keys(b).forEach(a=>{a.match(c)&&f.push({files:b[a],score:Scorer.partialTitle})})}if(f.every(a=>a.files===void 0))return;f.forEach(b=>{if(b.files===void 0)return;let a=b.files;a.length===void 0&&(a=[a]),g.push(...a),a.forEach(a=>{d.has(a)||d.set(a,{}),d.get(a)[e]=b.score})}),g.forEach(a=>{c.has(a)?c.get(a).indexOf(e)===-1&&c.get(a).push(e):c.set(a,[e])})});const f=[];for(const[k,l]of c){const m=[...e].filter(a=>a.length>2).length;if(l.length!==e.size&&l.length!==m)continue;if([...j].some(c=>a[c]===k||b[c]===k||(a[c]||[]).includes(k)||(b[c]||[]).includes(k)))break;const n=Math.max(...l.map(a=>d.get(k)[a]));f.push([h[k],i[k],"",null,n,g[k],SearchResultKind.text])}return f},makeSearchSummary:(h,d,e)=>{const a=Search.htmlToText(h,e);if(a==="")return null;const f=a.toLowerCase(),g=[...d].map(a=>f.indexOf(a.toLowerCase())).filter(a=>a>-1).slice(-1)[0],b=Math.max(g-120,0),i=b===0?"":"...",j=b+240<a.length?"...":"";let c=document.createElement("p");return c.classList.add("context"),c.textContent=i+a.substr(b,240).trim()+j,c}};_ready(Search.init)